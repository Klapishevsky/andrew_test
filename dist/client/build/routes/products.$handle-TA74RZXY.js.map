{
  "version": 3,
  "sources": ["../../../../app/routes/products.$handle.jsx"],
  "sourcesContent": ["import {useLoaderData} from '@remix-run/react';\nimport ProductOptions from '~/components/ProductOptions';\nimport {MediaFile} from '@shopify/hydrogen-react';\nimport {json} from '@shopify/remix-oxygen';\nexport async function loader({params, context}) {\n    const {handle} = params;\n    const {product} = await context.storefront.query(PRODUCT_QUERY, {\n      variables: {\n        handle,\n      },\n    });\n  \n    if (!product?.id) {\n      throw new Response(null, {status: 404});\n    }\n  \n    return json({\n      handle,\n      product,\n    });\n  };\n  function PrintJson({data}) {\n    return (\n      <details className=\"outline outline-2 outline-blue-300 p-4 my-2\">\n        <summary>Product JSON</summary>\n        <pre>{JSON.stringify(data, null, 2)}</pre>\n      </details>\n    );\n  }\n  export default function ProductHandle() {\n    const {product} = useLoaderData();\n  \n    return (\n      <section className=\"w-full gap-4 md:gap-8 grid px-6 md:px-8 lg:px-12\">\n        <div className=\"grid items-start gap-6 lg:gap-20 md:grid-cols-2 lg:grid-cols-3\">\n          <div className=\"grid md:grid-flow-row  md:p-0 md:overflow-x-hidden md:grid-cols-2 md:w-full lg:col-span-2\">\n            <div className=\"md:col-span-2 snap-center card-image aspect-square md:w-full w-[80vw] shadow rounded\">\n            <ProductGallery media={product.media.nodes} />\n            </div>\n          </div>\n          <div className=\"md:sticky md:mx-auto max-w-xl md:max-w-[24rem] grid gap-8 p-0 md:p-6 md:px-0 top-[6rem] lg:top-[8rem] xl:top-[10rem]\">\n            <div className=\"grid gap-2\">\n              <h1 className=\"text-4xl font-bold leading-10 whitespace-normal\">\n                {product.title}\n              </h1>\n              <span className=\"max-w-prose whitespace-pre-wrap inherit text-copy opacity-50 font-medium\">\n                {product.vendor}\n              </span>\n            </div>\n            <h3>Product Options TODO</h3>\n            <div\n              className=\"prose border-t border-gray-200 pt-6 text-black text-md\"\n              dangerouslySetInnerHTML={{ __html: product.descriptionHtml }}\n            ></div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n  function ProductGallery({media}) {\n    if (!media.length) {\n      return null;\n    }\n  \n    const typeNameMap = {\n      MODEL_3D: 'Model3d',\n      VIDEO: 'Video',\n      IMAGE: 'MediaImage',\n      EXTERNAL_VIDEO: 'ExternalVideo',\n    };\n  \n    return (\n      <div\n        className={`grid gap-4 overflow-x-scroll grid-flow-col md:grid-flow-row  md:p-0 md:overflow-x-auto md:grid-cols-2 w-[90vw] md:w-full lg:col-span-2`}\n      >\n        {media.map((med, i) => {\n          let extraProps = {};\n  \n          if (med.mediaContentType === 'MODEL_3D') {\n            extraProps = {\n              interactionPromptThreshold: '0',\n              ar: true,\n              loading: 'eager',\n              disableZoom: true,\n              style: {height: '100%', margin: '0 auto'},\n            };\n          }\n  \n          const data = {\n            ...med,\n            __typename: typeNameMap[med.mediaContentType] || typeNameMap['IMAGE'],\n            image: {\n              ...med.image,\n              altText: med.alt || 'Product image',\n            },\n          };\n  \n          return (\n            <div\n              className={`${\n                i % 3 === 0 ? 'md:col-span-2' : 'md:col-span-1'\n              } snap-center card-image bg-white aspect-square md:w-full w-[80vw] shadow-sm rounded`}\n              key={data.id || data.image.id}\n            >\n              <MediaFile\n                tabIndex=\"0\"\n                className={`w-full h-full aspect-square object-cover`}\n                data={data}\n                {...extraProps}\n              />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n  const PRODUCT_QUERY = `#graphql\n  query product($handle: String!) {\n    product(handle: $handle) {\n      id\n      title\n      handle\n      vendor\n      descriptionHtml\n      media(first: 10) {\n        nodes {\n          ... on MediaImage {\n            mediaContentType\n            image {\n              id\n              url\n              altText\n              width\n              height\n            }\n          }\n          ... on Model3d {\n            id\n            mediaContentType\n            sources {\n              mimeType\n              url\n            }\n          }\n        }\n      }\n      options {\n        name,\n        values\n      }\n    }\n  }\n`;"],
  "mappings": ";;;;;;;;;;;;AAwBQ;AAKS,SAAR,gBAAiC;AACtC,QAAM,EAAC,QAAO,IAAI,cAAc;AAEhC,SACE,mDAAC,aAAQ,WAAU,oDACjB,6DAAC,SAAI,WAAU,kEACb;AAAA,uDAAC,SAAI,WAAU,6FACb,6DAAC,SAAI,WAAU,wFACf,6DAAC,kBAAe,OAAO,QAAQ,MAAM,SAArC;AAAA;AAAA;AAAA;AAAA,WAA4C,KAD5C;AAAA;AAAA;AAAA;AAAA,WAEA,KAHF;AAAA;AAAA;AAAA;AAAA,WAIA;AAAA,IACA,mDAAC,SAAI,WAAU,wHACb;AAAA,yDAAC,SAAI,WAAU,cACb;AAAA,2DAAC,QAAG,WAAU,mDACX,kBAAQ,SADX;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,QACA,mDAAC,UAAK,WAAU,4EACb,kBAAQ,UADX;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,WANF;AAAA;AAAA;AAAA;AAAA,aAOA;AAAA,MACA,mDAAC,QAAG,oCAAJ;AAAA;AAAA;AAAA;AAAA,aAAwB;AAAA,MACxB;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,yBAAyB,EAAE,QAAQ,QAAQ,gBAAgB;AAAA;AAAA,QAF7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAGC;AAAA,SAbH;AAAA;AAAA;AAAA;AAAA,WAcA;AAAA,OApBF;AAAA;AAAA;AAAA;AAAA,SAqBA,KAtBF;AAAA;AAAA;AAAA;AAAA,SAuBA;AAEJ;AACA,SAAS,eAAe,EAAC,MAAK,GAAG;AAC/B,MAAI,CAAC,MAAM,QAAQ;AACjB,WAAO;AAAA,EACT;AAEA,QAAM,cAAc;AAAA,IAClB,UAAU;AAAA,IACV,OAAO;AAAA,IACP,OAAO;AAAA,IACP,gBAAgB;AAAA,EAClB;AAEA,SACE;AAAA,IAAC;AAAA;AAAA,MACC,WAAW;AAAA,MAEV,gBAAM,IAAI,CAAC,KAAK,MAAM;AACrB,YAAI,aAAa,CAAC;AAElB,YAAI,IAAI,qBAAqB,YAAY;AACvC,uBAAa;AAAA,YACX,4BAA4B;AAAA,YAC5B,IAAI;AAAA,YACJ,SAAS;AAAA,YACT,aAAa;AAAA,YACb,OAAO,EAAC,QAAQ,QAAQ,QAAQ,SAAQ;AAAA,UAC1C;AAAA,QACF;AAEA,cAAM,OAAO;AAAA,UACX,GAAG;AAAA,UACH,YAAY,YAAY,IAAI,qBAAqB,YAAY;AAAA,UAC7D,OAAO;AAAA,YACL,GAAG,IAAI;AAAA,YACP,SAAS,IAAI,OAAO;AAAA,UACtB;AAAA,QACF;AAEA,eACE;AAAA,UAAC;AAAA;AAAA,YACC,WAAW,GACT,IAAI,MAAM,IAAI,kBAAkB;AAAA,YAIlC;AAAA,cAAC;AAAA;AAAA,gBACC,UAAS;AAAA,gBACT,WAAW;AAAA,gBACX;AAAA,gBACC,GAAG;AAAA;AAAA,cAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAKA;AAAA;AAAA,UAPK,KAAK,MAAM,KAAK,MAAM;AAAA,UAJ7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAYA;AAAA,MAEJ,CAAC;AAAA;AAAA,IAxCH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyCA;AAEJ;",
  "names": []
}
